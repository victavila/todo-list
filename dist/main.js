(()=>{"use strict";const e=e=>{let t=[],o=!1;return{toDoList:t,activeOn:()=>{o=!0},activeOff:()=>{o=!1},getActive:()=>o,getName:()=>e,addToList:e=>{t.push(e)},removeFromList:e=>{e>-1&&t.splice(e,1)}}},t=(()=>{let e=[],t=[];return{projectsList:e,defaultList:t,addToDefault:e=>{t.push(e)},addToList:t=>{e.push(t)},removeFromList:t=>{t>-1&&e.splice(t,1)}}})(),o=(()=>{const e=document.querySelector(".todos"),t=document.querySelector(".projects-container"),o=document.querySelector(".form-container"),c=document.querySelector(".project-form-container"),a=document.querySelector(".form"),s=a.elements.title,r=a.elements.description,n=a.elements["due-date"],d=document.querySelector(".project-form"),i=d.elements.project,l=document.querySelector(".inbox"),m=document.querySelector(".today"),u=document.querySelector(".week"),p=document.querySelector(".add"),L=document.querySelector(".cancel"),v=document.querySelector(".project-btn"),f=document.querySelector(".project-cancel"),E=document.querySelector(".title");function y(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const D=()=>{y(e)};return{formObj:()=>({title:s.value,description:r.value,dueDate:n.value}),eventHandler:()=>{p.addEventListener("click",(()=>{o.style.display="block"})),a.addEventListener("submit",(e=>{e.preventDefault(),o.style.display="none",a.reset()})),L.addEventListener("click",(()=>{o.style.display="none",a.reset()})),v.addEventListener("click",(()=>{c.style.display="block"})),d.addEventListener("submit",(e=>{e.preventDefault(),c.style.display="none",d.reset()})),f.addEventListener("click",(()=>{c.style.display="none",d.reset()}))},createProjects:e=>{y(t);let o=0;e.forEach((e=>{const c=document.createElement("li"),a=document.createElement("button"),s=document.createElement("i");c.classList.add("project"),a.classList.add("delete-btn"),s.classList.add("fa","fa-close","close-icon"),c.textContent=e.getName(),a.setAttribute("data-id",o),a.appendChild(s),c.appendChild(a),t.appendChild(c),o++}))},clearToDos:D,createToDos:(t,o)=>{D(),E.textContent=t;let c=0;o.forEach((t=>{const o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),r=document.createElement("button"),n=document.createElement("p"),d=document.createElement("p");r.setAttribute("data-id",c),n.textContent=t.title,d.textContent=t.dueDate,o.classList.add("task-row"),r.classList.add("uncheck"),a.classList.add("left"),s.classList.add("right"),a.append(r,n),s.appendChild(d),o.append(a,s),e.appendChild(o),c++}))},setTitle:e=>{E.textContent=e},form:a,projectForm:d,projectTitle:i,projectContainer:t,inbox:l,today:m,thisWeek:u}})(),c=o,a=e("Inbox");a.activeOn(),t.addToDefault(a);const s=e("Today");t.addToDefault(s);const r=e("This Week");t.addToDefault(r),c.form.addEventListener("submit",(()=>{const e=(o=c.formObj(),Object.assign({},o));var o;t.projectsList.forEach((t=>{1==t.getActive()&&(t.addToList(e),c.createToDos(t.getName(),t.toDoList))})),t.defaultList.forEach((t=>{1==t.getActive()&&(t.addToList(e),c.createToDos(t.getName(),t.toDoList))}))})),c.inbox.addEventListener("click",(()=>{n(),a.activeOn(),c.createToDos(a.getName(),a.toDoList)})),c.today.addEventListener("click",(()=>{n(),s.activeOn(),c.createToDos(s.getName(),s.toDoList)})),c.thisWeek.addEventListener("click",(()=>{n(),r.activeOn(),c.createToDos(r.getName(),r.toDoList)}));const n=()=>{t.projectsList.forEach((e=>{e.activeOff()})),t.defaultList.forEach((e=>{e.activeOff()}))};c.projectForm.addEventListener("submit",(()=>{const o=e(c.projectTitle.value);n(),o.activeOn(),t.addToList(o),c.createProjects(t.projectsList),c.clearToDos(),c.setTitle(o.getName())})),c.eventHandler(),document.addEventListener("click",(e=>{"uncheck"===e.target.className&&(t.projectsList.forEach((e=>{e.getActive()&&console.log(e.getName())})),t.defaultList.forEach((t=>{if(t.getActive()){const o=t.getName();t.removeFromList(e.target.dataset.id),c.createToDos(o,t.toDoList)}})))})),document.addEventListener("click",(e=>{"project"===e.target.className&&(n(),t.projectsList.forEach((t=>{t.getName()===e.target.textContent&&(t.activeOn(),c.createToDos(t.getName(),t.toDoList))})))})),document.addEventListener("click",(e=>{"delete-btn"===e.target.className&&(t.removeFromList(e.target.dataset.id),c.createProjects(t.projectsList),c.clearToDos(),n(),a.activeOn(),c.createToDos(a.getName(),a.toDoList),c.setTitle("Inbox"))}))})();